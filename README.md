# ë‚ ì”¨ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° ğŸ§

JavaScript, React, Redux, Sass(SCSS)ë¥¼ í™œìš©í•˜ì—¬ ë§Œë“  ë‚ ì”¨ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
ì‚¬ìš©ìëŠ” ìœ„ì¹˜ ì—‘ì„¸ìŠ¤ë¥¼ í—ˆìš©í•  ê²½ìš° í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ëŠ˜ì˜ ë‚ ì”¨ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ì˜¨ë„, ìŠµë„, í’ì†ì„ ê·¸ë˜í”„ë¡œ í•œëˆˆì— í™•ì¸í•˜ê³  5ì¼ì¹˜ ì˜ˆë³´ë¥¼ ë°›ì•„ë³¼ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ë„ì‹œì´ë¦„ì„ ì…ë ¥í•  ê²½ìš° í•´ë‹¹ë„ì‹œì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. Figma(ë””ìì¸ íˆ´) í™œìš©

- ë ˆì´ì•„ì›ƒ ë° ë””ìì¸ì„ ì œì‘

2. JavaScript í™œìš©

- í˜„ì¬ ë‚ ì§œë¥¼ í‘œì‹œí•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì‘ì„±
- ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ë„ì™€ ê²½ë„ë¥¼ ë°›ì•„ ì˜¬ ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì‘ì„±
- fetchë¥¼ í™œìš©í•˜ì—¬ Weather APIë¥¼ ë°›ì•„ì˜¤ê³  tryì—ì„œ ë°ì´í„° ì²˜ë¦¬ catchì—ì„œëŠ” errorë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±
- fetchì—ì„œ ì²˜ë¦¬í•œ errorëŠ” ì—ëŸ¬ë°œìƒ í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë©° window.location.reload()ë¥¼ í†µí•´ì„œ ìƒˆë¡œê³ ì¹¨í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì‘ì„±
- ë¼ì´ë¸Œì„œì¹˜ì—ì„œ toLowerCaseë¥¼ í™œìš©í•˜ì—¬ ì…ë ¥ëœ ê°’ì„ ì†Œë¬¸ìë¡œ ë°”ê¿”ì£¼ê³  includeë¥¼ í™œìš©í•˜ì—¬ ë‹¨ì–´ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ëª©ë¡ì„ filterë¥¼ í†µí•´ ì„ ë³„í•  ìˆ˜ ìˆìŒ

3. React í™œìš©

- ë””ìì¸í•œ ë‚´ìš©ì„ Componentë¡œ êµ¬ì„±í•¨ìœ¼ë¡œì¨ Componentì˜ ê´€ë¦¬, ì¬ì‚¬ìš©ì„±ì— ëŒ€í•´ì„œ ìƒê°í•˜ê¸°
- useEffectë¥¼ í™œìš©í•˜ì—¬ Stateê°’ì— ë”°ë¼ ë¶ˆëŸ¬ì˜¬ APIì˜ ì¢…ë¥˜ê°€ ë‹¬ë¼ì§
- Array.mapì„ í™œìš©í•˜ì—¬ Componentë¥¼ ë°˜ë³µí•˜ì—¬ ëª©ë¡ì„ ë³´ì—¬ì£¼ê³  sliceë¥¼ í†µí•´ mapì˜ ê°¯ìˆ˜ë¥¼ ì œì–´í•¨
- onFocus, onBlurë¥¼ í†µí•´ í¬ì»¤ì‹±ì— ë”°ë¥¸ Stateê°’ì´ ë³€ë™ë¨
- ì‚¼í•­ ì—°ì‚°ìë¥¼ í™œìš©í•˜ì—¬ className ì†ì„±ì— CSSíš¨ê³¼ ì ìš©

4. Redux í™œìš©

- Providerì™€ storeë¥¼ í†µí•´ Stateê°€ í•„ìš”í•œ Componentì— ë³´ë‚´ì¤„ ìˆ˜ ìˆìŒ
- useDispatchë¥¼ í™œìš©í•˜ì—¬ type, payloadê°’ì„ reducerì˜ actionì¸ìì— ì œê³µí•  ìˆ˜ ìˆìŒ
- typeê³¼ payload í™œìš©í•˜ì—¬ switchë¬¸ìœ¼ë¡œ stateê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìŒ
- fetchì™€ê°™ì€ ë¹„ë™ê¸°ì  ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ applyMiddlewareì„ í™œìš©í•˜ì—¬ thunkë¥¼ ì œê³µ
- ë¹„ë™ê¸°ì  ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” useDispatchë¡œ Middlewareì— ë„ë‹¬í•œ í›„ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ë‹¤ì‹œí•œë²ˆ useDispatchë¡œ reducerì— ì œê³µ
- combineReducersë¥¼ í†µí•´ Stateë¥¼ ê´€ë¦¬í•˜ëŠ” reducerì„ í†µí•©í•˜ê³  ê°ì²´í˜•íƒœë¡œ ì œê³µ
- useSelectorë¥¼ í†µí•´ì„œ ì €ì¥ëœ Stateê°’ì„ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

5. Sass(SCSS) í™œìš©

- Sass(SCSS)ë¥¼ í™œìš©í•˜ì—¬ ë³€ìˆ˜ì— í•„ìš”í•œ CSSí˜•íƒœë¥¼ ë¯¸ë¦¬ ì €ì¥í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ë¶€ëª¨ CSSì™€ ìì‹ CSSë¥¼ í•œë²ˆì— ì‘ì„±í•¨ìœ¼ë¡œì¨ CSSê´€ë¦¬ë¥¼ í¸í•˜ê²Œ í•  ìˆ˜ ìˆìŒ

6. ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ê³¼ ì—ëŸ¬ì²˜ë¦¬

- NPM ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ì„ í™œìš©í•˜ì—¬ ë¡œë”©ì¤‘ì—ëŠ” ìŠ¤ì¼ˆë ˆí†¤ ì´ë¯¸ì§€ ì²˜ë¦¬, ì—ëŸ¬ë°œìƒì‹œ ì—ëŸ¬ ë°œìƒí™”ë©´ìœ¼ë¡œ ì „í™˜ í•  ìˆ˜ ìˆìŒ

## ì™„ì„±ì‘ ë¯¸ë¦¬ë³´ê¸°

ë¯¸ë¦¬ë³´ê¸° : https://yun7420.github.io/weather-2023/

## ì‚¬ìš©ìŠ¤íƒ

- JavaScript, Reactë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ì´íŠ¸ë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.
- Reduxë¥¼ í™œìš©í•˜ì—¬ Stateìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- Redux Middlewareì„ í™œìš©í•˜ì—¬ Actionì„ í†µí•´ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- Sass(SCSS)ë¥¼ ì‚¬ìš©í•˜ì—¬ CSSë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- Git, GitHubì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
- buildë¥¼ í†µí•´ ì½”ë“œì™€ íŒŒì¼, ì´ë¯¸ì§€, CSSíŒŒì¼ë“±ì„ íŒ¨í‚¤ì§• í•©ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ì‹¤í–‰ê³¼ ë§ˆë¬´ë¦¬

- Reactë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. `npx create-react-app íƒ€ì´í‹€` || `create-react-app .(í˜„ì¬í´ë”)`
- Reduxë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. `npm install redux` || `npm install react-redux`
- Redux Middleware thunkë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. `npm install redux-thunk`
- Sass(SCSS)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. `npm i sass --save-dev`
- ë°°í¬ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. `npm run build`
- static íŒŒì¼ ì„œë¹™ í”„ë¡œê·¸ë¨ ìƒì„±í•©ë‹ˆë‹¤. `npm install -g(í˜„ì¬ ì»´í“¨í„° ëª¨ë“  ê²½ë¡œ ì‚¬ìš©ê°€ëŠ¥) serve`
- buildí´ë” ê¸°ë°˜ìœ¼ë¡œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹™í•©ë‹ˆë‹¤. `serve -s build`

## í”„ë¡œì íŠ¸ ì°¸ê³  ì‚¬ì´íŠ¸

1. Redux í™ˆí˜ì´ì§€ (https://ko.redux.js.org/introduction/getting-started/)
2. Redux combineReducers í™ˆí˜ì´ì§€ (https://ko.redux.js.org/api/combinereducers/)
3. Redux Middlware thunk ì œê³µ (https://github.com/reduxjs/redux-thunk)
4. Sass(SCSS) ì„¤ì¹˜ì˜¤ë¥˜ í•´ê²° (https://xionwcfm.tistory.com/261) || (https://oddcode.tistory.com/197)
5. ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ ì œê³µ (https://www.npmjs.com/package/react-loading-skeleton)
6. ë¼ì´ë¸Œì„œì¹˜ ì½”ë“œ (https://no-yagun-yes-kaltae.tistory.com/m/3)
7. ê¹ƒí—ˆë¸Œ ì‚¬ì´íŠ¸ì— build í•˜ê¸° (https://velog.io/@nemo/github-page-deploy-%EB%B0%B0%ED%8F%AC)

## í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë°°ìš´ ë‚´ìš©

### JavaScript

1. ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ ì •ë³´ë¥¼ ì œê³µ

```
  const getCurrentLocation = () => {
    navigator.geolocation.getCurrentPosition((position) => {
      let { latitude, longitude } = position.coords;
    });
  };
```

2. fetchë¥¼ í™œìš©í•˜ì—¬ APIë¥¼ ë°›ì•„ì˜¤ê¸°

```
  const getWeatherByCurrentLocation = (latitude, longitude) => {
    dispatch(getWeatherByCurrentLocationAction.weatherByCurrentLocation(latitude, longitude));
  };

  function forecastByCurrentLocation(latitude, longitude) {
    return async (dispatch, getState) => {
      try {
        dispatch({ type: "LOADING" });

        let url = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=f497d00bd8c5301f301474a97dfbfba3&units=metric`;
        let response = await fetch(url);
        let data = await response.json();

        if (response.status !== 200 || response.ok === false) {
          throw new Error("error");
        }

        dispatch({ type: "FORECAST_WEATHER", payload: { data } });
        dispatch({ type: "UNLOADING" });
      } catch (error) {
        dispatch({ type: "ERROR", payload: { error } });
        dispatch({ type: "UNLOADING" });
      }
    };
  }
```

3. ë¼ì´ë¸Œì„œì¹˜ ì…ë ¥í•œ ë‹¨ì–´ë¥¼ ì„ ë³„

```
  const [liveSearch, setLiveSearch] = useState(false);

  const filterLiveSearchList = liveSearchList.filter((city) => {
    return city.toLowerCase().includes(searchCity.toLowerCase());
  });
```

### React

1. useEffectë¥¼ í™œìš©í•˜ì—¬ Stateê°’ì— ë”°ë¼ APIí˜¸ì¶œ

```
  useEffect(() => {
    if (city === null) {
      getCurrentLocation();
    } else {
      getWeatherByCity();
      getForecastByCity();
    }
  }, [city]);
```

2. onFocusì™€ onBlurì— ë”°ë¥¸ Stateê°’ ë³€ê²½

```
  <input
    type="search"
    value={searchCity}
    onChange={(e) => setSearchCity(e.target.value)}
    onFocus={() => setLiveSearch(true)}
    onBlur={() => setLiveSearch(false)}
    placeholder="ì›í•˜ëŠ” ë„ì‹œë¥¼ ì˜ì–´ë¡œ ê²€ìƒ‰í•˜ì„¸ìš”"
  />
```

3. sliceë¥¼ í†µí•´ mapì˜ ê°œìˆ˜ë¥¼ ì œí•œ

```
  {forecastWeather && forecastWeather.slice(0,5).map((forecast, index) => (
    <li key={index}>
      <div>
        <p>{dates + index}ì¼ ì˜ˆë³´</p>
        <img
          src={
            forecast 
            ? process.env.PUBLIC_URL + `/image/weather${forecast.weather[0].icon}.svg` 
            : process.env.PUBLIC_URL + `/image/weather13d.svg`
          }
          alt="ë‚ ì”¨ ì´ë¯¸ì§€"
        />
      </div>
      <p>ë‚ ì”¨ ì˜ˆìƒìœ¼ë¡œ ì˜¨ë„ {forecast ? forecast.main.temp : -1.05}ë„, ìŠµë„ {forecast ? forecast.main.humidity : 65}%, í’ì† {forecast ? forecast.wind.speed : 2.5}ms ê¸°ìƒì²­ì—ì„œ ì˜ˆìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
      <b>{forecast ? forecast.weather[0].main : "Snow"}</b>
    </li>
  ))}
```

4. APIí˜¸ì¶œ í›„ ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ ì—ëŸ¬ ì²˜ë¦¬

```
  if (loading) {
    <Skeleton width={"200px"} height={"40px"} baseColor="#222" highlightColor="#fff" />
  }

  if (error) {
    return <Error />;
  }
```

### Redux

1. Redux ì´ˆê¸°ì…‹íŒ…

```
  // React-Redux
  import { Provider } from "react-redux";
  // Redux
  import { createStore } from "redux";
  import { applyMiddleware } from "redux";
  // Reducer
  import reducer from "./redux/combinedReducer";
  // Redux-Thunk
  import { thunk } from "redux-thunk";
  
  const store = createStore(reducer, applyMiddleware(thunk));
  
  const root = ReactDOM.createRoot(document.getElementById("root"));
  root.render(
    <Provider store={store}>
      <App />
    </Provider>
  );
```

2. Reduxë¥¼ í™œìš©í•œ Stateê´€ë¦¬

```
  const initialState = {
    todayWeather: null,
    forecastWeather: null,
  };

  function weatherReducer(state = initialState, action) {
    const { type, payload } = action;
  
    switch (type) {
      case "TODAY_WEATHER":
        return {
          ...state,
          todayWeather: payload.data,
        };
  
      case "FORECAST_WEATHER":
        return {
          ...state,
          forecastWeather: payload.data.list,
        };
  
      default:
        return {
          ...state,
        };
    }
  }
  
  export default weatherReducer;
```

3. React Middlewareë¥¼ í™œìš©í•œ API ë¹„ë™ê¸° ì²˜ë¦¬

```
  function weatherByCurrentLocation(latitude, longitude) {
    return async (dispatch, getState) => {
      try {
        dispatch({ type: "LOADING" });
  
        let url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=f497d00bd8c5301f301474a97dfbfba3&units=metric`;
        let response = await fetch(url);
        let data = await response.json();
  
        if (response.status !== 200 || response.ok === false) {
          throw new Error("error");
        }
  
        dispatch({ type: "TODAY_WEATHER", payload: { data } });
        dispatch({ type: "UNLOADING" });
      } catch (error) {
        dispatch({ type: "ERROR", payload: { error } });
        dispatch({ type: "UNLOADING" });
      }
    };
  }

  export const getWeatherByCurrentLocationAction = { weatherByCurrentLocation };
```

4. Redux combinedReducer

```
  // Redux
  import { combineReducers } from "redux";
  // Reducer
  import loadingReducer from "./reducers/loading";
  import errorReducer from "./reducers/error";
  import weatherReducer from "./reducers/weather";
  import cityReducer from "./reducers/city";
  
  const reducer = combineReducers({
    loading: loadingReducer,
    error: errorReducer,
    weather: weatherReducer,
    city: cityReducer,
  });
  
  export default reducer;
```

## í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ëŠë‚€ì 

ì²˜ìŒìœ¼ë¡œ APIë¥¼ í˜¸ì¶œí•´ë³´ë©´ì„œ APIë¥¼ ë¡œë”©í•˜ëŠ”ë™ì•ˆ ì‚¬ìš©ìì—ê²Œ ì–´ë–¤ UIë¥¼ ì œê³µí•  ê²ƒì´ë©°, APIë¥¼ ë°›ì•„ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆì„ ê²½ìš° Errorí™˜ê²½ì€ ì–´ë–¤ì‹ìœ¼ë¡œ ì²˜ë¦¬í• ì§€ ê³ ë¯¼í•˜ê²Œëœ í”„ë¡œì íŠ¸ì˜€ìŠµë‹ˆë‹¤. ë˜í•œ Reduxë¥¼ ì²˜ìŒìœ¼ë¡œ ì ìš©í•´ë´„ìœ¼ë¡œì¨ Reducerê´€ë¦¬ Middlewareì„ í†µí•´ ë¹„ë™ê¸°ì ì¸ Stateê´€ë¦¬ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

